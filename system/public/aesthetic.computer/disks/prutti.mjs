// Prutti, 2023.11.09.16.36.06.537
// Lessons NOT Learnt by pruttipal aka goodiepal

/* #region 📚 README 
#endregion */

/* #region 🏁 TODO 
  (Released)
  + Done
  - [x] Make params for prutti 1, prutti 2, etc.
  - [x] Print out scrolling text for each.
  - [x] Attach images via the asset url: https://assets.aesthetic.computer/pruttipal/lnl/lnl1.jpeg
#endregion */

const { min } = Math;

const lessons = [
  {
    title: `Lesson NOT Learnt 01 - The failure of academic identity politics`,
    text: `
    // Right outside the house were I live, > a Celtic churce-settlement has been found only a #few years ago#—§ This changes the whole idea of Faroish identity completly as most modern - inovativ self-brand-building youngsters on the island's now ses a opotunity to make up a new history around themself as: Ancient Celts and by that pushing aside, the Sagas of the Icelanders, there otherwise has been the concept of real Nordic - national - IDEAS OF HOME - now the most clever of us are Celtic and hates on Norway and Black Metal etc. - But this is down-right a fantasy - as most people here is a >>-bio-dna-product-<< of sailors and shipping trafic routes… 'nuff said here.

    Most identity politics is based on getting a place at the power and capitalist-table on the expense of any scientific or historical facts - YES - This is wonderfull and I can only bee-sing it and enjoy as I myself has changed my acent, history, origin etc. — many a time, in order to fit in and make myself intereting and doing so in a way there was playing whit fact the same way as the already mentioned the Saga's. (((Were is The Goodiepal from etc.)))

    ______Just as K-omputer hacking was inteligent and realativly harmless to begin whit,  it is now a days turned into only being about getting money out of old and lesser informed on-liner's - The Academic identity hacking and story building people use today could be said to share the same faith ((—- maybe?? —)) At least almost all Scandinavien academics only research in fields they are payed in Capital to researh and people in the needs of power ar desperate to build new world views and history's to fit into … just look at teh Balkan changes over the last 30 years for another example - and I guess it is more or less the same anywere else… Butthen agian  this is only some Celtic fantasy thought's - they have no relevance now, but give them a few years…
    `,
    pictures: ["lnl1"],
  },
  {
    title: "Lesson NOT Learnt 02 - Hang whit the wrong",
    text: `
    Let's go and in ART find the queer·ness of the left-wing >>>> and mash it ..into.. the outsider art of the modern right-wing ___ Here we could include all the social free thinkers dreams like: modular synth's, bright-colours etc. — & —gently blendt it whit things from the right'ers - that could includ re·li·gious heart-to-brush painting technics & nordic sing-a-song writer traditions etc.  — Do not hold back, but please go give it a try - § § § __ The hopefull conclution should be that, the so called right- and left-wing talk is something from the old France Revolution, that is of today, in no way, a good illustrative way to descrip the strugles and political mind-sets the youth is trying to navigate in…

    __ The workers on a Norwigien 'oil-platform' has a much better idea of what they everyday work destory's, then let's say a Ethereum-Space Karen-Dogecoin-investor, happy in the Berlin Cryto-Capital section of the ART-market, if a Rough-Neck on the Rig sings a song, please listen to it before you judge that person - there is always some things to learn,  don't just doubt ur vibe…

    If you are a Hawaii'en native working on: the Pituffik Space Base and is on leave in Thorshavn on the Faroe Islands, your ART— %% even if you call it: “just a hobby” %% might tell a intereting story about: in·dig·e·nous'nes and enviromental destruction — even thow that you are in the uniform…

    in ART so in life - trust your heart - not what your phone tells you... The only exception here is phone-ART...

    https://www.airforce-technology.com/wp-content/uploads/sites/6/2019/06/US-Air-Force-1.jpg

    Cryptic: KovBoyFilm Ref. 

    https://www.youtube.com/watch?v=GhIhJ8w4e2U
    `,
    pictures: ["lnl2-1", "lnl2-2"],
  },
  {
    title:
      "Lesson NOT Learnt 03 - Purano Sei Diner Kothis & The Guild of the Viking Klokkers",
    text: `
    I only like words in songs and not _general sytax—> as it is the destroy'er of EMO ideas. << For: Bananskolen I tryed NOT to be: Karin Hansson & Åse Andersson's: _TED (Beta 0.3)__ but was / is still iinternally in the gruppe sean as that person (& as I become of age, I really DO hate being in focus - - - -belive it or not), - - - - But all this brings something interesting to the table, a lot of current intellectualism and Academic discussion’s is actually not about the subject but more about hove the gruppe feels internaly.

    This = the failure of modern debate in general
    - As it is the unspoken-gruppe stucture that makes the individuals spar·kle and not the $ rules $ that govern hove the gruppe is organised; who is allowed to speak etc. & I do really believe that any political idea is just another power system waiting to be put into place. . .

    - As for now 2000 & HVAD - we try: The Guild of the Viking Klokkers

    01 - if you live in København and owens a flat, you are 3 - 4 X milionar!
    02 - if you live in København and owens a house, you are around 12 X milionar!
    03 - if you live in København and owens more then one house, you are economicaly diretly responsible for the >current< WARS in this world —> København'ers - get super super angry when I raise this openion, in everyday talk… — Part of my current life struge is a product of just that —>  So In life, NEVER should one owen more then 1 X house… else you are a Scandi-Tycoon. 
    Most Scandi_tycoon's dos de-emphasize in style and expense and does not show of there weath in the form of Watches & Jewelry etc. 

    FRONT your wealth - Do not owen a house - if people will NOT house you, when you come to town your so called ART - is simply not good enough…

    We are the Viking Klokkers 
    - 3 X Play
    - 6 X Father's
    `,
    pictures: ["lnl3"],
  },
  {
    title: "Lesson NOT Learnt 04",
    text: `
    —————— Fact: ——————	———————————
    Rasmus Sørnes just joined: The Guild of the Viking Klokkers 
    —————— Dansk ——————	————————
    Tænd for: Teksti-TV 666
    Nej hved du nu hvad Nyhil er lukket, jo da har du / de overhovedet flere bolsjer i posen ???
    DIG, du er en person der går og tumler lidt med det .  .
    husk at ..—> magten er varm og lige voldsomt nok, hvis ikke kan du ringe til: 
    Tove Storch (+45) 2992 9022 —— > Arturo Ruiz del Pozo, ramte plet minst en gang, bare så du hved det, hvis det interessere dig 
    Batteri-biller er så tunge som dino'er - SLET DIG SELV kvik-sølv's billist - 
    —————— Færøsk ——————
    -> give away your watches, (not all of them) as a gesture, as also they represent POWER<-
    —————— Svensk ——————
    om maleriet er død hved jeg ikke?  Men de fleste ting der kan holdes i hånden fasinere mig,
    jeg er åben overfor håndskulpturen 
    Johan Jönsson - er varm, —— tampen brander
    Goodiepal
    Norðuri á Heyggi 2A 
    FO-176 Velbastaður
    Føroyar
    the faroe islands FO
    ——————————		——————————
    ——————————————————————————  
    new goodiepal website
    https://web.archive.org/web/20231010110621/https://goodiepal.dk/#
    ——————————————————————————  
    ——————————————————————————  
    who arkived it?
    `,
    pictures: ["lnl4"],
  },
  {
    title: "Lesson NOT Learnt 05",
    text: `
    Karlheinz - Fucking (Vinyl Rip) 
    we painted red paint on politikens boghal————————————————
    most of foods is dropped in the garbage disposal - why do you not dumpster dive
    try only to eat free food

    Mike Burrows, just joined the Guild the Viking Klokkers
    ————————————————
    `,
    pictures: ["lnl5"],
  },
  {
    title:
      "Lesson NOT Learnt 06 *Silence is the power of any overclass, anywere*",
    text: `
    & Fansy political ideas is all the same - just power structures waiting to be put into place... — well educated Euro's who jumps on a fashionable idea.. and talk to a lower class in order to highen them to another >>mille plateaux<<- But fails to interact whit the class whit's way of life the well educated Euro's certainly can't stand.. Just Like the fishers living in Vorupør and the bikers who en·gaged in a fight of 300 people around 30 years ago in that little town -  and the white institutional overclass only had silence as a comment - since silence is the way that intelectualisem deals whit ideas it dos not like... = silence is wrong & conceptual high modernism was a dead - NO it is / was not!
    `,
    pictures: ["lnl6"],
  },
  {
    title: "Lesson NOT Learnt 07",
    text: `
    ———————————————
    let's stretches the concept if life <Power>
    alone = is golden - youth = is wrong - age = is wrong - time = is a joke
    <Ghost>
    call me up as: We are the Viking KLOKKERS—
    <Rainbow>
    ———————————————
    `,
    pictures: ["lnl7"],
  },
  {
    title: "Lesson NOT Learnt 08 - w/ 02 variation",
    text: `
    —do not jump at comclusions
    love is really all that I have, look hove far it took me, maybe love can take you futher
    remember that we are just the little viking klokkers
    ding / dong - ding aling long

    Lesson NOT Learnt 08 - 02 variation
    —do not jump at comclusions
    love is really all that I have, look hove far it took me, maybe love can take you futher, now that you are gone form me  - Simone Babes Trust - New York made you a woman, but you were on the way to become a a new man . .  me <—<—you —NY>—>me
    Simone - you are greatly missed in my distrutfull life of forever sadness - this body you can have, as the last drops of my life will be dedicated to bring what you are now represented in, that being just light — ohh remember that we are just the little viking klokkers
    ding / dong - ding aling long for you in sound and haanskulptur - I will skulture you, not your body but who you were and is . . Gender is a human joke, you = always the most beautifull of light in gold and silver…
    Manchester & Edgeley made you, I sing your name out over: Velbastað
    we are the Viking Klokkers - we are the Viking Klokkers
    `,
    pictures: ["lnl8"],
  },
  {
    title: "Lesson NOT Learnt 09",
    text: `
    The modern art-critic of today, has huge problems acepting - reversed signals as a comunication form…'''
    $$$ But no Euro-industiral Culture - could ever had existed whitout possing in Euro facist-left owers and in that way critisising the modern, the new & the global world there was to come…

    Dungeon & Draogns cost-play and so called gay culture was pre-industrial framworks, lets line it up:

    Dungeon & Draogns cost-play and (gay) culture > Industrial - revesed signals culture > Cyber Punk > Internet > Tekno  > Global Village Dreams > Social Media & web 2.0  > The curret Politcal Art-scene…

    and that current art-scene would never accept a man·ly Dungeon & Dragons cost-play picture like this:
    `,
    pictures: ["lnl9"],
  },
  {
    title: "Lesson NOT Learnt 10",
    text: `
    When we come to your shores, people start to  see pyramids everywere…
    = The reaosn being that, we bring the paralel universiterium
    and the best place to leave ideas for the time to come is in pryramidiums

    We are the Viking Klokkers have trust a old goodiepal'ium
    `,
    pictures: ["lnl10"],
  },
  {
    title: "lnl 11 - what punk is not about.wav",
    text: `[listen 2 the audio...]`,
    sounds: ["what punk is not about"],
  },
];

let lesson = 0,
  scroll = 0,
  scrollMax;
const lessonPaintings = [],
  picWidth = 320;
let color,
  noiseTint = [255, 0, 0];

// 🥾 Boot
function boot({ api, wipe, params, hud, help, num }) {
  wipe(0);
  noiseTint = num.randIntArr(255, 3);
  lesson = params[0] ? parseInt(params[0]) - 1 : num.randInd(lessons);
  if (lesson > lessons.length - 1 || lesson < 0) lesson = 0;

  hud.label("prutti " + (lesson + 1));
  loadLesson(api);
  color = help.choose("white", "cyan", "yellow", "orange", undefined);
}

// 🎨 Paint
function paint({ wipe, ink, paste, screen, text: txt, help, noiseTinted }) {
  let { title, text } = lessons[lesson];
  text = text.trim();
  const titleBox = txt.box(title, { x: 6, y: 24 + scroll }, screen.width - 8);
  const textBox = txt.box(
    text,
    { x: 6, y: 24 + scroll + 10 + titleBox.box.height },
    screen.width - 8,
  );

  noiseTinted(noiseTint, 0.4, 0.2)
    .ink(0)
    .box(
      textBox.pos.x,
      textBox.pos.y,
      textBox.box.width - 4,
      textBox.box.height,
    )
    .ink()
    .write(title, titleBox.pos, noiseTint, screen.width - 8);
  ink(color).write(text, textBox.pos, 0, screen.width - 8);

  let lastHeight = 0;
  lessonPaintings.forEach((painting) => {
    const width = min(picWidth, screen.width - 12);
    const height = (painting.height / painting.width) * width;
    paste(painting, 6, 10 + textBox.pos.y + textBox.box.height + lastHeight, {
      width,
      height,
    });
    lastHeight += height + 10;
  });

  scrollMax = titleBox.box.height + 10 + textBox.box.height + lastHeight;
  return false;
}

// 🎪 Act
function act({ event: e, needsPaint, jump }) {
  if (e.is("draw")) {
    scroll += e.delta.y;
    checkScroll();
    needsPaint();
  }

  if (e.is("keyboard:down:arrowdown")) {
    scroll -= 10;
    checkScroll();
    needsPaint();
  }

  if (e.is("keyboard:down:arrowup")) {
    scroll += 10;
    checkScroll();
    needsPaint();
  }

  if (e.is("keyboard:down:arrowright")) {
    if (lesson < lessons.length) jump(`prutti ${lesson + 2}`);
  }

  if (e.is("keyboard:down:arrowleft")) {
    if (lesson > 0) jump(`prutti ${lesson - 1 + 1}`);
  }
}

// 🧮 Sim
// function sim() {
//  // Runs once per logic frame. (120fps locked.)
// }

// 🥁 Beat
// function beat() {
//   // Runs once per metronomic BPM.
// }

// 👋 Leave
// function leave() {
//  // Runs once before the piece is unloaded.
// }

// 📰 Meta
function meta() {
  return {
    title: "Prutti",
    desc: "Lessons NOT Learnt by pruttipal aka goodiepal",
  };
}

// 🖼️ Preview
// function preview({ ink, wipe }) {
// Render a custom thumbnail image.
// }

// 🪷 Icon
// function icon() {
// Render an application icon, aka favicon.
// }

export { boot, paint, act, meta };

// 📚 Library
//   (Useful functions used throughout the piece)

function loadLesson(api) {
  const path = api.debug
    ? "/assets/pruttipal/lnl"
    : "https://assets.aesthetic.computer/pruttipal/lnl";

  lessons[lesson].pictures?.forEach((name) => {
    api.net.preload(`${path}/${name}.jpeg`).then((file) => {
      lessonPaintings.push(
        api.resize(
          file.img,
          picWidth,
          (file.img.height / file.img.width) * picWidth,
        ),
      );
      api.needsPaint();
    });
  });

  // Load and play sample for lesson 11.
  lessons[lesson].sounds?.forEach((name) => {
    api.net.preload(`${path}/${name}.wav`).then((sfx) => {
      api.sound.play(sfx); // Immediately play '.wav' after loading it.
    });
  });
}

function checkScroll() {
  if (scroll < -scrollMax) scroll = -scrollMax;
  if (scroll > 16) scroll = 16;
}
