<!DOCTYPE html>
<html>

<head>
  <title>Text Area Test</title>
  <style>
    body {
      pointer-events: none;
    }

    textarea {
      pointer-events: none;
    }

    body {
      touch-action: none;
      overflow: hidden;
      margin: 0;
      cursor: none;
      user-select: none;
      -webkit-user-select: none;
      -webkit-touch-callout: none;
      -webkit-text-size-adjust: none;
    }
  </style>
</head>

<body>
  <script>
    const ta = document.createElement("textarea");
    const el = ta;//document.querySelector('#el');

    const input = ta;

    input.style.position = "absolute";
    input.id = "software-keyboard-input";
    input.autocapitalize = "none";
    // input.type = "text";
    input.autocomplete = "off";
    input.style.opacity = 0;
    input.style.width = 0 + "px";
    input.style.height = 0 + "px";
    // input.enterkeyhint = "go"; // Why doesn't this work?

    // ðŸ““ Uncomment to debug text editing form synchronization.
    input.style.zIndex = 100;
    input.style.top = "50px";
    input.style.left = "100px";
    input.style.opacity = 1;
    input.style.width = 200 + "px";
    input.style.height = 50 + "px";

    document.body.append(ta);

    let focused = false;

    window.addEventListener("pointerdown", (e) => {
      e.preventDefault();
    });

    window.addEventListener("pointerup", (e) => {
      e.preventDefault();
      console.log("document has focus:", document.hasFocus());
      if (focused) {
        el.blur();
      } else {
        el.focus();
      }
    });

    el.addEventListener("focus", () => {
      console.log("focused.", focused);
      focused = true;
    });

    el.addEventListener("blur", () => {
      console.log("blurred.", focused);
      focused = false;
    });
  </script>
</body>

</html>